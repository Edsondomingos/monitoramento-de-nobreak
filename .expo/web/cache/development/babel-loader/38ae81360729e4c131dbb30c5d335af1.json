{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useState } from \"react\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Container, Botao, TextoBtn, MiniContainer, BotaoIcone, Icone } from \"../../assets/styledComponents/Components\";\nimport { db } from \"../Config/firebaseconfig\";\nimport { app } from \"../Config/firebaseconfig\";\nimport { doc, collection, deleteDoc, updateDoc, getDocs } from \"firebase/firestore\";\nimport { getAuth, signOut } from \"firebase/auth\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default (function (props) {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      codigo = _useState2[0],\n      setCodigo = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      mac = _useState4[0],\n      setMac = _useState4[1];\n\n  var _useState5 = useState([{}]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      nobreak = _useState6[0],\n      setNobreak = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      idContato = _useState8[0],\n      setIdContato = _useState8[1];\n\n  function listar() {\n    var nobreakCol, nobreakSnapshot, nobreakList;\n    return _regeneratorRuntime.async(function listar$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            nobreakCol = collection(db, 'nobreak');\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(getDocs(nobreakCol));\n\n          case 3:\n            nobreakSnapshot = _context.sent;\n            nobreakList = nobreakSnapshot.docs.map(function (doc) {\n              return _objectSpread({\n                id: doc.id\n              }, doc.data());\n            });\n            setNobreak(nobreakList);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  listar();\n\n  function desconectar() {\n    var auth = getAuth(db);\n    signOut(auth).then(function () {\n      alert('Desconectado!');\n      props.navigation.navigate(\"Login\");\n    }).catch(function (error) {\n      alert(error);\n    });\n  }\n\n  function verificar() {\n    var auth = getAuth(db);\n\n    if (auth.currentUser) {\n      alert(auth.currentUser.email);\n    } else {\n      alert('Não tem nenhum usuário autenticado!');\n    }\n  }\n\n  function atualizar() {\n    updateDoc(doc(db, \"nobreak\", idContato), {\n      codigo: codigo,\n      mac: mac\n    }).then(function () {\n      alert(\"Atualizado com sucesso!\");\n    }).catch(function (error) {\n      alert(error);\n    });\n    setCodigo('');\n    setMac('');\n    setIdContato('');\n    listar();\n  }\n\n  return _jsxs(Container, {\n    children: [_jsx(FlatList, {\n      data: nobreak,\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _jsxs(Botao, {\n          onPress: function onPress() {\n            return props.navigation.navigate('Monitoramento', {\n              cod: item.codigo\n            });\n          },\n          children: [_jsxs(Text, {\n            children: [\"codigo: \", item.codigo]\n          }), _jsxs(Text, {\n            children: [\"mac: \", item.mac]\n          })]\n        });\n      }\n    }), _jsx(Container, {\n      children: _jsx(Botao, {\n        onPress: function onPress() {\n          props.navigation.navigate(\"Monitoramento\");\n        },\n        children: _jsx(TextoBtn, {\n          children: \"Monitoramento\"\n        })\n      })\n    }), _jsxs(MiniContainer, {\n      children: [_jsx(ImageBackground, {\n        source: require(\"../../img/user.png\"),\n        style: {\n          width: '32%'\n        },\n        children: _jsx(BotaoIcone, {\n          onPress: function onPress() {\n            props.navigation.navigate(\"EditarPerfil\");\n          },\n          children: _jsx(TextoBtn, {})\n        })\n      }), _jsx(ImageBackground, {\n        source: require(\"../../img/novo.png\"),\n        style: {\n          width: '32%'\n        },\n        children: _jsx(BotaoIcone, {\n          onPress: function onPress() {\n            props.navigation.navigate(\"Cadastrar_Nobreak\");\n          },\n          children: _jsx(TextoBtn, {})\n        })\n      }), _jsx(ImageBackground, {\n        source: require(\"../../img/sair.png\"),\n        style: {\n          width: '32%'\n        },\n        children: _jsx(BotaoIcone, {\n          onPress: desconectar,\n          children: _jsx(TextoBtn, {})\n        })\n      })]\n    })]\n  });\n});","map":{"version":3,"names":["React","useState","Container","Botao","TextoBtn","MiniContainer","BotaoIcone","Icone","db","app","doc","collection","deleteDoc","updateDoc","getDocs","getAuth","signOut","props","codigo","setCodigo","mac","setMac","nobreak","setNobreak","idContato","setIdContato","listar","nobreakCol","nobreakSnapshot","nobreakList","docs","map","id","data","desconectar","auth","then","alert","navigation","navigate","catch","error","verificar","currentUser","email","atualizar","item","cod","require","width"],"sources":["C:/testes/monitoramento-de-nobreak/src/components/Menu.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Button, View, Text, FlatList, TextInput, ImageBackground, Image } from \"react-native\";\nimport { Container, Botao, TextoBtn, MiniContainer, BotaoIcone, Icone } from \"../../assets/styledComponents/Components\";\nimport { db } from '../Config/firebaseconfig';\nimport { app } from '../Config/firebaseconfig';\nimport { doc, collection, deleteDoc, updateDoc, getDocs } from \"firebase/firestore\";\nimport { getAuth, signOut } from \"firebase/auth\"\n\nexport default (props) => {\n\n  const [codigo, setCodigo] = useState('')\n  const [mac, setMac] = useState('')\n  const [nobreak, setNobreak] = useState([{}])\n  const [idContato, setIdContato] = useState('')\n\n  async function listar(){\n    const nobreakCol = collection(db, 'nobreak');\n    const nobreakSnapshot = await getDocs(nobreakCol);\n    const nobreakList = nobreakSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n    setNobreak(nobreakList);\n}\nlistar()\n\n  function desconectar() {\n    const auth = getAuth(db);\n    signOut(auth).then(() => {\n      // Sign-out successful.\n      alert('Desconectado!')\n      props.navigation.navigate(\"Login\")\n    }).catch((error) => {\n      // An error happened.\n      alert(error);\n    });\n  }\n\n  function verificar() {\n    const auth = getAuth(db);\n    if (auth.currentUser) {\n      alert(auth.currentUser.email);\n    } else {\n      alert('Não tem nenhum usuário autenticado!');\n    }\n  }\n\n  function atualizar() {\n    updateDoc(doc(db, \"nobreak\", idContato), {\n      codigo: codigo,\n      mac: mac,\n    }).then(() => {\n      alert(\"Atualizado com sucesso!\")\n    }).catch((error) => {\n      alert(error)\n    })\n\n    setCodigo('');\n    setMac('');\n    setIdContato('');\n    listar();\n  }\n\n  return (\n    <Container >\n\n      <FlatList\n          data={nobreak}\n          renderItem={({item}) =>\n          <Botao\n            onPress={() => props.navigation.navigate('Monitoramento',{cod:item.codigo})}\n          >\n              <Text>codigo: {item.codigo}</Text>\n              <Text>mac: {item.mac}</Text>\n          </Botao>\n      }\n      />\n      \n      <Container>\n      <Botao onPress={() => { props.navigation.navigate(\"Monitoramento\"); }}>\n        <TextoBtn>Monitoramento</TextoBtn>\n      </Botao>\n      {/* <Botao onPress={() => { props.navigation.navigate(\"Login\"); }} > */}\n        {/* <TextoBtn>Login</TextoBtn> \n      </Botao>\n     {/* <Button title=\"Verificar Autenticação\" onPress={verificar} \n      />   */}\n\n      {/* <Text>{'\\n\\n\\n\\n\\n\\n\\n'}</Text> */}\n\n      \n      {/*<Button color={'#00FF99'} title=\"Ir para Cadastro\" onPress={() => { props.navigation.navigate(\"Cadastro\"); }} />\n      <Button color={'#00FF99'} title=\"Ir para Cadastro de Nobreak\" onPress={() => { props.navigation.navigate(\"Cadastrar_Nobreak\"); }} />*/}\n      {/*<Button color='red' title=\"Voltar\" onPress={() => { props.navigation.goBack() }} /> keyboardType='number-pad' */}\n      </Container>\n      <MiniContainer>\n        <ImageBackground \n            source={require('../../img/user.png')}\n            style={{width: '32%'}}\n            >\n          <BotaoIcone onPress={() => { props.navigation.navigate(\"EditarPerfil\"); }} >\n            <TextoBtn></TextoBtn>\n          </BotaoIcone>\n        </ImageBackground>\n\n        <ImageBackground \n            source={require('../../img/novo.png')}\n            style={{width: '32%'}}\n          >\n          <BotaoIcone onPress={() => { props.navigation.navigate(\"Cadastrar_Nobreak\"); }} >\n          <TextoBtn></TextoBtn>          \n          </BotaoIcone>\n        </ImageBackground>\n\n          <ImageBackground \n            source={require('../../img/sair.png')}\n            style={{width: '32%'}}\n            >\n          <BotaoIcone onPress={desconectar} >\n            <TextoBtn></TextoBtn>\n          </BotaoIcone>\n        </ImageBackground>\n\n      </MiniContainer>\n    </Container>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}