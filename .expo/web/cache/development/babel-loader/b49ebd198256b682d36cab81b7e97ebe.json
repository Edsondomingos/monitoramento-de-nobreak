{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport * as React from 'react';\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { Container, Titulo, TextoBtn, Botao, Entrada } from \"../../assets/styledComponents/Components\";\nimport { getDocs, deleteDoc, updateDoc, doc, collection } from \"firebase/firestore\";\nimport { db } from \"../Config/firebaseconfig\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { useState } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default (function (props) {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      nome = _useState2[0],\n      setNome = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      cpf = _useState6[0],\n      setCpf = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      senha = _useState8[0],\n      setSenha = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      telefone = _useState10[0],\n      setTelefone = _useState10[1];\n\n  var _useState11 = useState([{}]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      usuarios = _useState12[0],\n      setUsuario = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      idUsuarios = _useState14[0],\n      setIdUsuario = _useState14[1];\n\n  function listar() {\n    var usuariosCol, usuariosSnapshot, usuariosList;\n    return _regeneratorRuntime.async(function listar$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            usuariosCol = collection(db, 'usuarios');\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(getDocs(usuariosCol));\n\n          case 3:\n            usuariosSnapshot = _context.sent;\n            usuariosList = usuariosSnapshot.docs.map(function (doc) {\n              return _objectSpread({\n                id: doc.id\n              }, doc.data());\n            });\n            setUsuario(usuariosList);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function deletar(id_usuarios) {\n    return _regeneratorRuntime.async(function deletar$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(deleteDoc(doc(db, \"usuarios\", id_usuarios)));\n\n          case 2:\n            setNome('');\n            setTelefone('');\n            setIdUsuario('');\n            listar();\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function atualizar() {\n    updateDoc(doc(db, 'usuarios', idUsuarios), {\n      nome: nome,\n      cpf: cpf,\n      email: email,\n      senha: senha,\n      telefone: telefone\n    }).then(function () {\n      alert(\"Editado\");\n      props.navigation.navigate('Menu');\n    }).catch(function (error) {\n      alert(error);\n    });\n    setNome('');\n    setCpf(''), setTelefone('');\n    setIdUsuario('');\n    listar();\n  }\n\n  return _jsxs(Container, {\n    children: [_jsx(ImageBackground, {\n      source: require(\"../../img/iot.jpg\"),\n      style: {\n        width: 100,\n        height: 100\n      }\n    }), _jsx(Titulo, {\n      children: \"Editar Usu\\xE1rio\"\n    }), _jsx(Entrada, {\n      value: nome,\n      placeholder: \"Nome completo\",\n      onChangeText: setNome\n    }), _jsx(Entrada, {\n      value: cpf,\n      placeholder: \"Digite seu CPF\",\n      onChangeText: setCpf\n    }), _jsx(Entrada, {\n      value: telefone,\n      placeholder: \"Digite o telefone\",\n      onChangeText: setTelefone\n    }), _jsx(Botao, {\n      onPress: atualizar,\n      children: _jsx(TextoBtn, {\n        children: \"Atualizar\"\n      })\n    }), _jsx(Text, {\n      children: '\\n\\n'\n    }), _jsx(Button, {\n      title: \"Dados\",\n      onPress: listar\n    }), _jsx(Text, {\n      children: '\\n'\n    }), _jsx(FlatList, {\n      data: usuarios,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _jsxs(View, {\n          children: [_jsxs(Text, {\n            children: [\"ID: \", item.id]\n          }), _jsxs(Text, {\n            children: [\"Nome: \", item.nome]\n          }), _jsxs(Text, {\n            children: [\"CPF: \", item.cpf]\n          }), _jsxs(Text, {\n            children: [\"Celular: \", item.telefone]\n          }), _jsx(Button, {\n            title: \"Editar\",\n            onPress: function onPress() {\n              setNome(item.nome);\n              setCpf(item.cpf);\n              setEmail(item.email);\n              setSenha(item.senha);\n              setTelefone(item.telefone);\n              setIdUsuario(item.id);\n            }\n          }), _jsx(Button, {\n            title: \"Deletar\",\n            onPress: function onPress() {\n              deletar(item.id);\n            }\n          }), _jsx(Text, {\n            children: '\\n'\n          })]\n        });\n      }\n    })]\n  });\n});","map":{"version":3,"names":["React","Container","Titulo","TextoBtn","Botao","Entrada","getDocs","deleteDoc","updateDoc","doc","collection","db","useState","props","nome","setNome","email","setEmail","cpf","setCpf","senha","setSenha","telefone","setTelefone","usuarios","setUsuario","idUsuarios","setIdUsuario","listar","usuariosCol","usuariosSnapshot","usuariosList","docs","map","id","data","deletar","id_usuarios","atualizar","then","alert","navigation","navigate","catch","error","require","width","height","item"],"sources":["C:/testes/monitoramento-de-nobreak/src/components/EditarPerfil.js"],"sourcesContent":["import * as React from 'react';\nimport { ImageBackground } from 'react-native';\nimport { Container, Titulo, TextoBtn, Botao, Entrada } from '../../assets/styledComponents/Components';\nimport { getDocs, deleteDoc, updateDoc, doc, collection } from \"firebase/firestore\";\nimport { db } from \"../Config/firebaseconfig\";\nimport { Button, View, Text, FlatList } from 'react-native';\nimport { useState } from 'react';\n\nexport default (props) => {\n\n    const [nome, setNome] = useState('')\n    const [email, setEmail] = useState('')\n    const [cpf, setCpf] = useState('')\n    const [senha, setSenha] = useState('')\n    const [telefone, setTelefone] = useState('')\n    const [usuarios, setUsuario] = useState([{}])\n    const [idUsuarios, setIdUsuario] = useState('')\n\n    async function listar() {\n        const usuariosCol = collection(db, 'usuarios');\n        const usuariosSnapshot = await getDocs(usuariosCol);\n        const usuariosList = usuariosSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n        setUsuario(usuariosList);\n    }\n    async function deletar(id_usuarios) {\n        await deleteDoc(doc(db, \"usuarios\", id_usuarios));\n        setNome('');\n        setTelefone('');\n        setIdUsuario('');\n        listar();\n    }\n    function atualizar() {\n        updateDoc(doc(db, 'usuarios', idUsuarios), {\n            nome: nome,\n            cpf: cpf,\n            email: email,\n            senha: senha,\n            telefone: telefone\n        }).then(() => {\n            alert(\"Editado\");\n            props.navigation.navigate('Menu');\n        }).catch((error) => {\n            alert(error)\n        })\n        setNome('');\n        setCpf(''),\n        setTelefone('');\n        setIdUsuario('');\n        listar();\n    }\n\n    return (\n        <Container>\n            <ImageBackground source={require('../../img/iot.jpg')} style={{ width: 100, height: 100 }} >\n            </ImageBackground>\n            <Titulo>Editar Usu√°rio</Titulo>\n            <Entrada\n                value={nome} placeholder='Nome completo' onChangeText={setNome}\n            />\n            <Entrada value={cpf} placeholder='Digite seu CPF' onChangeText={setCpf} />\n            {/*<Entrada\n                value={email} placeholder='Digite seu email' onChangeText={setEmail}\n            /> */}\n            <Entrada\n                value={telefone} placeholder='Digite o telefone' onChangeText={setTelefone}\n            />\n            {/*<Entrada\n                value={senha} placeholder='Senha' onChangeText={setSenha}\n                secureTextEntry={true}\n        /> */}\n            <Botao\n                onPress={atualizar}\n            >\n                <TextoBtn>Atualizar</TextoBtn>\n            </Botao>\n            <Text>{'\\n\\n'}</Text>\n            <Button title='Dados' onPress={listar} />\n            <Text>{'\\n'}</Text>\n            {/*<Text>DADOS</Text>*/}\n            <FlatList\n                // de onde vem os dados\n                data={usuarios}\n                keyExtractor={item => item.id}\n                renderItem={({ item }) =>\n                    <View>\n                        <Text>ID: {item.id}</Text>\n                        <Text>Nome: {item.nome}</Text>\n                        <Text>CPF: {item.cpf}</Text>\n                        {/*<Text>{item.email}</Text>\n                        <Text>{item.senha}</Text>*/}\n                        <Text>Celular: {item.telefone}</Text>\n\n                        <Button title='Editar' onPress={() => {\n                            setNome(item.nome);\n                            setCpf(item.cpf);\n                            setEmail(item.email);\n                            setSenha(item.senha);\n                            setTelefone(item.telefone);\n                            setIdUsuario(item.id);\n                        }} />\n                        <Button title='Deletar' onPress={() => {\n                            deletar(item.id)\n                        }} />\n                        <Text>{'\\n'}</Text>\n                    </View>\n                } />\n        </Container>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}